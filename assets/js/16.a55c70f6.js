(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{219:function(t,e,a){"use strict";a.r(e);var s=a(28),o=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"react"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react"}},[t._v("#")]),t._v(" React")]),t._v(" "),a("h3",{attrs:{id:"react-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react-2"}},[t._v("#")]),t._v(" React")]),t._v(" "),a("p",[t._v("In other words, React apps are made out of components, but what makes React special isn’t components themselves. What makes React special is the ways in which components interact.")]),t._v(" "),a("h3",{attrs:{id:"component-component-class-component-instance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#component-component-class-component-instance"}},[t._v("#")]),t._v(" component/component class/component instance")]),t._v(" "),a("p",[t._v("On line 4, by subclassing "),a("code",[t._v("React.Component")]),t._v(", you create a new component class. "),a("strong",[t._v("This is not a component!")]),t._v(" A component class is more like a factory that produces components. When you start making components, each one will come from a component class.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("class MyComponentClass extends React.Component {\n")])])]),a("h4",{attrs:{id:"a-component-class"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-component-class"}},[t._v("#")]),t._v(" a component class")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("class MyComponentClass extends React.Component {}\n")])])]),a("h4",{attrs:{id:"a-component-instance-a-component"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-component-instance-a-component"}},[t._v("#")]),t._v(" a component instance/a component")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<MyComponentClass />\n")])])]),a("h2",{attrs:{id:"hook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hook"}},[t._v("#")]),t._v(" hook")]),t._v(" "),a("h3",{attrs:{id:"产生缘由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#产生缘由"}},[t._v("#")]),t._v(" 产生缘由")]),t._v(" "),a("p",[t._v("class 中生命周期函数经常包含不相关的逻辑，但又把相关逻辑分离到了几个不同方法中。")]),t._v(" "),a("blockquote",[a("p",[t._v("副作用"),a("code",[t._v("side effect")]),t._v("分为两类，需要清除的（对应"),a("code",[t._v("useEffect")]),t._v("的返回函数）和不需要清除的。")])]),t._v(" "),a("p",[t._v("所以为了"),a("strong",[t._v("状态逻辑的复用")]),t._v("，hook 产生了。")]),t._v(" "),a("h3",{attrs:{id:"hook-是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hook-是什么"}},[t._v("#")]),t._v(" hook 是什么")]),t._v(" "),a("p",[t._v("hook 是一个特殊的函数，它可以让你“钩入”React 的特性。")]),t._v(" "),a("h3",{attrs:{id:"usestate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usestate"}},[t._v("#")]),t._v(" useState")]),t._v(" "),a("p",[t._v("设置值的时候是替换而不是合并。")]),t._v(" "),a("h3",{attrs:{id:"useeffect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#useeffect"}},[t._v("#")]),t._v(" useEffect")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("此 hook 可以看做是"),a("code",[t._v("componentDidMount")]),t._v("，"),a("code",[t._v("componentDidUpdate")]),t._v(" 和 "),a("code",[t._v("componentWillUnmount")]),t._v(" 这三个函数的组合。")])]),t._v(" "),a("li",[a("p",[t._v("每个 effect “属于”一次特定的渲染结果。")])]),t._v(" "),a("li",[a("p",[t._v("每个 effect 都可以返回一个清除函数。如此可以将添加和移除订阅的逻辑放在一起。")])]),t._v(" "),a("li",[a("p",[t._v("如果想执行只运行一次的 effect（仅在组件挂载和卸载时执行），可以传递一个空数组（[]）作为第二个参数。")])])]),t._v(" "),a("h3",{attrs:{id:"rules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rules"}},[t._v("#")]),t._v(" rules")]),t._v(" "),a("ol",[a("li",[t._v("只在最顶层使用 Hook。不要在循环，条件或嵌套函数中调用 Hook。")]),t._v(" "),a("li",[t._v("只在 React 函数中调用 Hook。不要在普通的 JavaScript 函数中调用 Hook。\n"),a("blockquote",[a("p",[t._v("在 React 的函数组件中调用 Hook 或者在自定义 Hook 中调用其他 Hook。")])])])]),t._v(" "),a("h3",{attrs:{id:"自定义-hook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义-hook"}},[t._v("#")]),t._v(" 自定义 hook")]),t._v(" "),a("p",[t._v("当一套 hook 使用方式，需要重用时，就需要自定义 hook")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function useCustom() {\n  const [state, setState] = useState(0)\n  useEffect(() => {\n    return () => {}\n  })\n}\n")])])])])}),[],!1,null,null,null);e.default=o.exports}}]);